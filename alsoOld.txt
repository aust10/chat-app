// // const path = require('path')
// const fs = require('fs')
// const bodyParse = require('body-parser')
// const express = require('express')
// const app = express()

// const path = './messages.txt'

// // set the middleware
// app.use(bodyParse.urlencoded({ extended: true }))



// //serve static 
// var staticPath = path.join(__dirname,'static')
// app.use(express.static(staticPath))


// // serve Get
// app.get('/messages', (req, res) => {
//   fs.readFile(path, 'utf8', (err, messages) => {
//     if (err) return res.send(err)
//     res.send(messages.split('\n').filter(line => line))
//   })
// })

// // serve post 




// const mount = st({ path: path.join(__dirname, '/static'), url: '/static' })
// // const router = Router()

// // going to /static/<file-name> will serve the file <file-name>
// app.set('/static/*', mount)

// module.exports = function (deps) {
//   // requests to /messages are either a GET or a POST
//   // app.set('/messages', function (req, res) {
//   //   if (req.method === 'GET') {
//   //     getMessages(req, res)
//   //   } else if (req.method === 'POST') {
//   //     postMessage(req, res)
//   //   } else {
//   //     res.statusCode = 400
//   //     res.end('unsupported operation')
//   //   }
//   // })

//   // this is the POST handler for /messages
//   // this function should write a new message to the file
//   function postMessage (req, res) {
//     let data = ''
//     req.on('data', function (chunk) {
//       data += chunk
//     })

//     req.on('end', function () {
//       // at this point, data should be the entire json payload of the request
//       fs.appendFile(deps.messagesPath, '\n' + data, err => {
//         if (err) {
//           res.statusCode = 500
//           return res.end(err)
//         }
//         res.statusCode = 200
//         res.end('Message posted successfully')
//       })
//     })
//   }

//   // this is the GET handler for /messages
//   // this function should respond with the list of messages
//   // get request takes in a path and a callback
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
// }
//   function getMessages (req, res) {
//     app.get(mount, function (req, res) {
//       fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//         if (err) {
//           res.statusCode = 500
//           return res.end('Error reading messages')
//         }

//         const messages = text
//           .split('\n')
//           .filter(txt => txt) // will filter out empty string
//           .map(JSON.parse)

//         res.writeHead(200, { 'Content-Type': 'application/json' })
//         res.end(JSON.stringify(messages))
//       })
//     })
//   }

//   // function getMessages (req, res) {
//   //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
//   //     if (err) {
//   //       res.statusCode = 500
//   //       return res.end('Error reading messages')
//   //     }

//   //     const messages = text
//   //       .split('\n')
//   //       .filter(txt => txt) // will filter out empty string
//   //       .map(JSON.parse)

//   //     res.writeHead(200, { 'Content-Type': 'application/json' })
//   //     res.end(JSON.stringify(messages))
//   //   })
//   // }

//   return http.createServer((req, res) => {
//     router(req, res, {}, function onError (err) {
//       if (err) {
//         res.statusCode = err.statusCode || 500
//         res.end(err.message)
//       }
//     })
//   })
//   function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
  function getMessages (req, res) {
    app.get(mount, function (req, res) {
      fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
        if (err) {
          res.statusCode = 500
          return res.end('Error reading messages')
        }

        const messages = text
          .split('\n')
          .filter(txt => txt) // will filter out empty string
          .map(JSON.parse)

        res.writeHead(200, { 'Content-Type': 'application/json' })
        res.end(JSON.stringify(messages))
      })
    })
  }

  // function getMessages (req, res) {
  //   fs.readFile(deps.messagesPath, 'utf8', (err, text) => {
  //     if (err) {
  //       res.statusCode = 500
  //       return res.end('Error reading messages')
  //     }

  //     const messages = text
  //       .split('\n')
  //       .filter(txt => txt) // will filter out empty string
  //       .map(JSON.parse)

  //     res.writeHead(200, { 'Content-Type': 'application/json' })
  //     res.end(JSON.stringify(messages))
  //   })
  // }

  return http.createServer((req, res) => {
    router(req, res, {}, function onError (err) {
      if (err) {
        res.statusCode = err.statusCode || 500
        res.end(err.message)
      }
    })
  })
}
}
